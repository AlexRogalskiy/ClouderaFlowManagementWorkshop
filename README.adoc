= CFM Workshop

== Introduction

In this virtual hands-on workshop, you will build a NiFi workflow for **Log** use case. Below is the architecture diagram, showing all the components you will setup over the lab exercises. 

image::images/iot-architecture.png[width=800]

=== Before you start

* Everything is Case-Sensitive. 
* Check all your connections and spellings
* If you hit any problems, check for clues in the <<troubleshooting>> section below.

=== Pre-requisites

* Laptop with a supported OS (Windows 7 not supported).
* A modern browser like Google Chrome or Firefox (IE not supported).

=== Connecting to your cluster

You instructor will give access to a registration link where you can request a cluster. You should have 2 addresses for you one-node cluster: the public DNS name and the public IP address. With those addresses you can test the following connectivity to your cluster:

. Ensure you can connect to the following service using your browser:
+
[%autowidth,options="header"]
|===
|Service|URL|Credentials
|Cloudera Manager|http://<public_dns>:7180/|`admin/admin`
|NiFi|http://<public_dns>:8080/nifi/|
|NiFi Registry|http://<public_dns>:18080/nifi-registry/|
|===
. Login into *Cloudera Manager* and familiarize yourself with the services installed
. Login into *Hue*. As you are the first user to login into Hue, you are granted admin privileges. At this point, you won't need to do anything on Hue, but by logging in, CDH has created your HDFS user and folder, which you will need for the next lab.

Below a screenshot of Chrome open with 8 tabs, one for each service.

image::images/browser.png[width=800]


==== SSH into the cluster from the Web UI

From the registration link, you can click on the link at the right side to connect to the cluster from a web based SSH client with the credential centos/supersecret1.

== Labs

Time to start working and see some interesting stuff!

* link:streaming.adoc[From Edge to Streams Processing]

== Resources
  
* link:https://medium.freecodecamp.org/building-an-iiot-system-using-apache-nifi-mqtt-and-raspberry-pi-ce1d6ed565bc[Original blog by Abdelkrim Hadjidj]

* This workshop is based on the IoT Workshop by Andre:
** https://github.com/asdaraujo/edge2ai-workshop
* This workshop is based on the following work by Fabio Ghirardello:
** https://github.com/fabiog1901/IoT-predictive-maintenance
** https://github.com/fabiog1901/OneNodeCDHCluster

* link:https://www.cloudera.com/documentation.html[Cloudera Documentation]

[[troubleshooting, Troubleshooting]]
== Troubleshooting

==== General

* *Everything is Case-Sensitive*.
* Check all your connections and spellings



